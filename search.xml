<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>[1.17.1]Minecraft数据包---夜视仪</title>
    <url>/2021/08/12/1-17-1-Minecraft%E6%95%B0%E6%8D%AE%E5%8C%85-%E5%A4%9C%E8%A7%86%E4%BB%AA/</url>
    <content><![CDATA[<p>另一个着色器实例，尝试做了个夜视仪。<br>但是其实完全没有夜视的效果啊，只是把屏幕变绿了而已XD，但是观感还是不错的，这也得亏深度缓冲。</p>
<a id="more"></a>

<h2 id="效果演示"><a href="#效果演示" class="headerlink" title="效果演示"></a>效果演示</h2><p>B站视频演示：</p>
<iframe src="//player.bilibili.com/player.html?aid=759859607&bvid=BV1464y1q7NE&cid=387864669&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width:100%;height:500px;min-width:375px;min-height:200px"> </iframe>

<p><a href="https://www.bilibili.com/video/BV1464y1q7NE" target="_blank" rel="noopener">https://www.bilibili.com/video/BV1464y1q7NE</a></p>
<p><img src="https://i.loli.net/2021/08/12/A6yBuIKCpYWi97m.png" alt="演示1"></p>
<p><img src="https://i.loli.net/2021/08/12/DsG8LIP26uXUYWF.png" alt="演示2"></p>
<h2 id="大致原理"><a href="#大致原理" class="headerlink" title="大致原理"></a>大致原理</h2><p>当玩家戴着一个特殊帽子的时候，在玩家面前生成发光实体，然后调用着色器。<br>帽子的判断使用断言。当玩家戴着特定帽子时，断言通过。</p>
<figure class="highlight json"><table><tr><td class="code"><pre><code class="hljs json">&#123;<br>    <span class="hljs-attr">"condition"</span>: <span class="hljs-string">"minecraft:entity_properties"</span>,<br>    <span class="hljs-attr">"entity"</span>: <span class="hljs-string">"this"</span>,<br>    <span class="hljs-attr">"predicate"</span>: &#123;<br>        <span class="hljs-attr">"equipment"</span>: &#123;<br>            <span class="hljs-attr">"head"</span>: &#123;<br>                <span class="hljs-attr">"items"</span>: [<span class="hljs-string">"leather_helmet"</span>],<br>                <span class="hljs-attr">"count"</span>: <span class="hljs-number">1</span>,<br>                <span class="hljs-attr">"nbt"</span>: <span class="hljs-string">"&#123;id:\"nvh:helmet\"&#125;"</span><br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>然后刷发光实体，并且糊到玩家脸上。<br>但是这个方案并不完备，由于tp的延迟，如果玩家快速转动视角，实体就会离开玩家视野然后导致着色器失效一瞬间，观感不是很好。<br>解决方法是检测模型材质来实现的，把模型放的足够大就可以基本避免着色器失效。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">execute as <span class="hljs-meta">@a</span> at <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> entity <span class="hljs-meta">@s</span>[predicate=nvh:helmet] unless entity <span class="hljs-meta">@e</span>[type=armor_stand,tag=nvh-marker] run summon armor_stand ^ ^ ^<span class="hljs-number">5</span> &#123;NoAI:<span class="hljs-number">1</span>b,Tags:[<span class="hljs-string">"nvh-marker"</span>],Small:<span class="hljs-number">1</span>,Marker:<span class="hljs-number">1</span>,Invisible:<span class="hljs-number">1</span>&#125;<br>execute as <span class="hljs-meta">@a</span>[predicate=nvh:helmet] at <span class="hljs-meta">@s</span> anchored eyes run tp <span class="hljs-meta">@e</span>[type=armor_stand,tag=nvh-marker,limit=<span class="hljs-number">1</span>] ^ ^ ^<span class="hljs-number">5</span><br>execute as <span class="hljs-meta">@a</span> at <span class="hljs-meta">@s</span> unless entity <span class="hljs-meta">@s</span>[predicate=nvh:helmet] <span class="hljs-keyword">if</span> entity <span class="hljs-meta">@e</span>[type=armor_stand,tag=nvh-marker] run tp <span class="hljs-meta">@e</span>[type=armor_stand,tag=nvh-marker] ~ ~-<span class="hljs-number">366</span> ~<br></code></pre></td></tr></table></figure>

<p>然后调用发光效果的着色器</p>
<figure class="highlight json"><table><tr><td class="code"><pre><code class="hljs json">#minecraft/shaders/post/entity_outline.json<br><br>&#123;<br>    <span class="hljs-attr">"targets"</span>: [<br>        <span class="hljs-string">"swap"</span>,<br>        <span class="hljs-string">"final"</span><br>    ],<br>    <span class="hljs-attr">"passes"</span>: [<br>        &#123;<br>            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"entity_outline"</span>,<br>            <span class="hljs-attr">"intarget"</span>: <span class="hljs-string">"final"</span>,<br>            <span class="hljs-attr">"outtarget"</span>: <span class="hljs-string">"swap"</span>,<br>			<span class="hljs-attr">"auxtargets"</span>: [<br>				&#123;<br>					<span class="hljs-attr">"name"</span>:<span class="hljs-string">"DiffuseDepthSampler"</span>,<br>					<span class="hljs-attr">"id"</span>: <span class="hljs-string">"minecraft:main:depth"</span><br>				&#125;<br>			]<br>        &#125;,<br>        &#123;<br>            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"blit"</span>,<br>            <span class="hljs-attr">"intarget"</span>: <span class="hljs-string">"swap"</span>,<br>            <span class="hljs-attr">"outtarget"</span>: <span class="hljs-string">"final"</span><br>        &#125;<br>    ]<br>&#125;<br></code></pre></td></tr></table></figure>

<p>可以看到，在<em>entity_outline</em>当中调用了深度缓冲。<br>在program的<em>entity_outline</em>中进行相关设置，同时使用片段着色器<em>night_vision</em>。</p>
<figure class="highlight glsl"><table><tr><td class="code"><pre><code class="hljs glsl"><span class="hljs-meta">#minecraft/shaders/post/night_vision.fsh</span><br><br><span class="hljs-meta">#version 150</span><br><br><span class="hljs-keyword">uniform</span> <span class="hljs-type">sampler2D</span> DiffuseSampler;<br><span class="hljs-keyword">uniform</span> <span class="hljs-type">sampler2D</span> DiffuseDepthSampler;<br><br><span class="hljs-keyword">in</span> <span class="hljs-type">vec2</span> texCoord;<br><br><span class="hljs-keyword">out</span> <span class="hljs-type">vec4</span> fragColor;<br><br><span class="hljs-type">void</span> main()&#123;<br>    <span class="hljs-type">float</span> fromcenter = <span class="hljs-built_in">distance</span>(texCoord, <span class="hljs-type">vec2</span>(<span class="hljs-number">0.5</span>,<span class="hljs-number">0.5</span>));<br>	<span class="hljs-type">float</span> color = (<span class="hljs-number">1.0</span> - <span class="hljs-built_in">texture</span>(DiffuseDepthSampler, texCoord).r) * <span class="hljs-number">15.0</span>;<br><br>    <span class="hljs-keyword">if</span> (fromcenter &lt; <span class="hljs-number">0.62</span>)&#123;<br>        fragColor = <span class="hljs-type">vec4</span>(<span class="hljs-number">0.0</span>, color + <span class="hljs-number">0.1</span>, color - <span class="hljs-number">0.1</span>, <span class="hljs-number">0.9</span>);<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fromcenter &gt;= <span class="hljs-number">0.62</span>)&#123;<br>        fragColor = <span class="hljs-type">vec4</span>(<span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.99</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>获取了屏幕上每个像素点到中心的距离，若小于等于0.62，则输出夜视画面的主体（深度缓冲）。<br>若大于0.62，则输出黑色像素，作为周围的一个边框。<br>根据这个原理，原版的发光效果就没法用了:(，因为一旦玩家视野内出现发光实体，就会触发着色器，所以这个包也就是娱乐向的XD<br>同样通过识别模型材质可以躲过这个问题，不过等我有空再试吧。<br>原版的shader限制还是有很多的，不过在地图创作方面也确实是极大丰富了视觉效果。</p>
<h2 id="鸣谢"><a href="#鸣谢" class="headerlink" title="鸣谢"></a>鸣谢</h2><ul>
<li>ch2的深度缓冲教程</li>
<li>其他所有的shader教程</li>
</ul>
<h2 id="datapack"><a href="#datapack" class="headerlink" title="datapack"></a>datapack</h2><p>链接: <a href="https://pan.baidu.com/s/1X23epcmeNake3GpkTF1C7Q" target="_blank" rel="noopener">https://pan.baidu.com/s/1X23epcmeNake3GpkTF1C7Q</a><br>提取码: f5pp</p>
]]></content>
      <tags>
        <tag>commands</tag>
      </tags>
  </entry>
  <entry>
    <title>[1.17.1]Minecraft资源包-着色器实例</title>
    <url>/2021/07/30/1-17-1-Minecraft%E8%B5%84%E6%BA%90%E5%8C%85-%E7%9D%80%E8%89%B2%E5%99%A8%E5%AE%9E%E4%BE%8B/</url>
    <content><![CDATA[<p>最近学了一些着色器的使用，扒教程时由于没有编程相关的基础，看GLSL的一些东西确实费劲。<br>现在的水平也只是会改改数据而已，做出自己想要的效果还不能实现。<br>另外虽然这是资源包的部分，但是我写这个毕竟是为了数据包的效果服务，所以tag还是commands。 </p>
<a id="more"></a>

<h2 id="效果演示"><a href="#效果演示" class="headerlink" title="效果演示"></a>效果演示</h2><p>B站视频演示：</p>
<iframe src="//player.bilibili.com/player.html?aid=631975435&bvid=BV1bb4y1r7Q1&cid=378926162&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width:100%;height:500px;min-width:375px;min-height:200px"> </iframe>

<p><a href="https://www.bilibili.com/video/BV1bb4y1r7Q1" target="_blank" rel="noopener">https://www.bilibili.com/video/BV1bb4y1r7Q1</a></p>
<p><img src="https://i.loli.net/2021/08/02/SJEzWei31tLfG5O.png" alt="演示1"></p>
<h2 id="大致原理"><a href="#大致原理" class="headerlink" title="大致原理"></a>大致原理</h2><p>利用全局量GameTime来实现动画效果。<br>GameTime是一个从0增加到1200并循环的量，配合三角函数就能实现-1到1的循环变化，<br>然后在相关核心着色器当中引入GameTime来实现rgb变色。</p>
<figure class="highlight json"><table><tr><td class="code"><pre><code class="hljs json">#minecraft/shaders/core/rendertype_lines.json<br>&#123;<br>    <span class="hljs-attr">"blend"</span>: &#123;<br>        <span class="hljs-attr">"func"</span>: <span class="hljs-string">"add"</span>,<br>        <span class="hljs-attr">"srcrgb"</span>: <span class="hljs-string">"srcalpha"</span>,<br>        <span class="hljs-attr">"dstrgb"</span>: <span class="hljs-string">"1-srcalpha"</span><br>    &#125;,<br>    <span class="hljs-attr">"vertex"</span>: <span class="hljs-string">"rendertype_lines"</span>,<br>    <span class="hljs-attr">"fragment"</span>: <span class="hljs-string">"rendertype_lines"</span>,<br>    <span class="hljs-attr">"attributes"</span>: [<br>        <span class="hljs-string">"Position"</span>,<br>        <span class="hljs-string">"Color"</span>,<br>        <span class="hljs-string">"Normal"</span><br>    ],<br>    <span class="hljs-attr">"samplers"</span>: [<br>    ],<br>    <span class="hljs-attr">"uniforms"</span>: [<br>        &#123; <span class="hljs-attr">"name"</span>: <span class="hljs-string">"ModelViewMat"</span>, <span class="hljs-attr">"type"</span>: <span class="hljs-string">"matrix4x4"</span>, <span class="hljs-attr">"count"</span>: <span class="hljs-number">16</span>, <span class="hljs-attr">"values"</span>: [ <span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">1.0</span> ] &#125;,<br>        &#123; <span class="hljs-attr">"name"</span>: <span class="hljs-string">"ProjMat"</span>, <span class="hljs-attr">"type"</span>: <span class="hljs-string">"matrix4x4"</span>, <span class="hljs-attr">"count"</span>: <span class="hljs-number">16</span>, <span class="hljs-attr">"values"</span>: [ <span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">1.0</span> ] &#125;,<br>        &#123; <span class="hljs-attr">"name"</span>: <span class="hljs-string">"ColorModulator"</span>, <span class="hljs-attr">"type"</span>: <span class="hljs-string">"float"</span>, <span class="hljs-attr">"count"</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">"values"</span>: [ <span class="hljs-number">1.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">1.0</span> ] &#125;,<br>        &#123; <span class="hljs-attr">"name"</span>: <span class="hljs-string">"LineWidth"</span>, <span class="hljs-attr">"type"</span>: <span class="hljs-string">"float"</span>, <span class="hljs-attr">"count"</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">"values"</span>: [ <span class="hljs-number">1.0</span> ] &#125;,<br>        &#123; <span class="hljs-attr">"name"</span>: <span class="hljs-string">"ScreenSize"</span>, <span class="hljs-attr">"type"</span>: <span class="hljs-string">"float"</span>,     <span class="hljs-attr">"count"</span>: <span class="hljs-number">2</span>,  <span class="hljs-attr">"values"</span>: [ <span class="hljs-number">1.0</span>, <span class="hljs-number">1.0</span> ] &#125;,<br>        &#123; <span class="hljs-attr">"name"</span>: <span class="hljs-string">"FogStart"</span>, <span class="hljs-attr">"type"</span>: <span class="hljs-string">"float"</span>, <span class="hljs-attr">"count"</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">"values"</span>: [ <span class="hljs-number">0.0</span> ] &#125;,<br>        &#123; <span class="hljs-attr">"name"</span>: <span class="hljs-string">"FogEnd"</span>, <span class="hljs-attr">"type"</span>: <span class="hljs-string">"float"</span>, <span class="hljs-attr">"count"</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">"values"</span>: [ <span class="hljs-number">1.0</span> ] &#125;,<br>        &#123; <span class="hljs-attr">"name"</span>: <span class="hljs-string">"FogColor"</span>, <span class="hljs-attr">"type"</span>: <span class="hljs-string">"float"</span>, <span class="hljs-attr">"count"</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">"values"</span>: [ <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span> ] &#125;,<br>        &#123; <span class="hljs-attr">"name"</span>: <span class="hljs-string">"GameTime"</span>, <span class="hljs-attr">"type"</span>: <span class="hljs-string">"float"</span>, <span class="hljs-attr">"count"</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">"values"</span>: [<span class="hljs-number">0.0</span>] &#125;<br>    ]<br>&#125;<br></code></pre></td></tr></table></figure>

<p>能够看到在uniforms最后引入了GameTime。</p>
<figure class="highlight glsl"><table><tr><td class="code"><pre><code class="hljs glsl"><span class="hljs-meta">#minecraft/shaders/core/rendertype_lines.fsh</span><br><br><span class="hljs-meta">#version 150</span><br><br><span class="hljs-meta">#moj_import &lt;fog.glsl&gt;</span><br><br><span class="hljs-keyword">uniform</span> <span class="hljs-type">vec4</span> ColorModulator;<br><span class="hljs-keyword">uniform</span> <span class="hljs-type">float</span> FogStart;<br><span class="hljs-keyword">uniform</span> <span class="hljs-type">float</span> FogEnd;<br><span class="hljs-keyword">uniform</span> <span class="hljs-type">vec4</span> FogColor;<br><span class="hljs-keyword">uniform</span> <span class="hljs-type">float</span> GameTime;<br><br><span class="hljs-keyword">in</span> <span class="hljs-type">float</span> vertexDistance;<br><span class="hljs-keyword">in</span> <span class="hljs-type">vec4</span> vertexColor;<br><br><span class="hljs-keyword">out</span> <span class="hljs-type">vec4</span> fragColor;<br><br><span class="hljs-type">void</span> main() &#123;<br>    <span class="hljs-type">vec4</span> color = vertexColor * ColorModulator;<br>    <span class="hljs-type">vec4</span> line_color = <span class="hljs-type">vec4</span>(<span class="hljs-built_in">sin</span>(GameTime * <span class="hljs-number">2000</span>), <span class="hljs-built_in">cos</span>(GameTime * <span class="hljs-number">2000</span>), <span class="hljs-built_in">tan</span>(GameTime * <span class="hljs-number">2000</span>), <span class="hljs-number">0.0</span>) + color;<br><br>    fragColor = linear_fog(line_color, vertexDistance, FogStart, FogEnd, FogColor);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>在相应的片段着色器（rendertype_lines，用以修改实体轮廓和方块边缘轮廓）中引入GameTime，然后引入一个四元向量<em>line_color</em>,用GameTime和三角函数做出循环变量，然后和原来的<em>color</em>相加。<br>其实应该可以直接改<em>color</em>的，但是我试了一下效果不是很好（？），不知道为什么。<br>同时我这个三角函数也是瞎套的，变色范围没有黄色，但是效果看起来还是不错的XD。<br>还有另一个挖方块变色的原理是一样的，修改片段着色器（rendertype_crumbling）来实现的。</p>
<h2 id="鸣谢"><a href="#鸣谢" class="headerlink" title="鸣谢"></a>鸣谢</h2><ul>
<li>所有的着色器教程</li>
<li>qlkyyds</li>
<li>vsc的glsl语法高亮</li>
</ul>
<h2 id="resource"><a href="#resource" class="headerlink" title="resource"></a>resource</h2><p>链接: <a href="https://pan.baidu.com/s/1gppn4DX5NKTH11Ke1XTL_Q" target="_blank" rel="noopener">https://pan.baidu.com/s/1gppn4DX5NKTH11Ke1XTL_Q</a><br>提取码: a35q</p>
]]></content>
      <tags>
        <tag>commands</tag>
      </tags>
  </entry>
  <entry>
    <title>换新logo</title>
    <url>/2021/06/08/%E6%8D%A2%E6%96%B0logo/</url>
    <content><![CDATA[<p>如题，自己随便想到了一个新的方案，就试一下，感觉还不错。</p>
<a id="more"></a>

<p><img src="https://i.loli.net/2021/06/08/BS4y1r5Nb2vnpUD.jpg" alt="LOGO-1"></p>
<p><img src="https://i.loli.net/2021/06/08/bnAOXgs8QUxKDWo.jpg" alt="LOGO-2"></p>
<p>我一直比较喜欢简约，但又有高级感的logo，所以换来换去也还是Ar两个字母罢了，这次也不例外。<br>主要是在字母的形状和笔触的方面做了点改动吧，我自己看着还可以。<br>由于没决定好配色，就干脆来两种，不过倒也差不多的。<br>然后就是把各个平台的头像都换掉了，毕竟我就是喜欢瞎折腾 :D</p>
<hr>
<p>另外确实是很长时间没碰命令了，甚至连mc都没玩过。<br>学业压力很重，没时间写数据包了。 :(</p>
]]></content>
      <tags>
        <tag>strange</tag>
      </tags>
  </entry>
  <entry>
    <title>[1.16.5]Minecraft数据包---装备耐久可视化</title>
    <url>/2021/02/23/1-16-5-Minecraft%E6%95%B0%E6%8D%AE%E5%8C%85-%E8%A3%85%E5%A4%87%E8%80%90%E4%B9%85%E5%8F%AF%E8%A7%86%E5%8C%96/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/U717753c72aa54169955500326cee9dd19.jpg" alt="cover"><br>该数据包及配套资源包允许玩家在游戏界面上能直接看到装备以及耐久度的情况。<br>该数据包隶属于 <em>cAsual woRk</em> (3/99)</p>
<a id="more"></a>

<h2 id="效果演示"><a href="#效果演示" class="headerlink" title="效果演示"></a>效果演示</h2><p>B站视频演示：</p>
<iframe src="//player.bilibili.com/player.html?aid=544306168&bvid=BV1ji4y1T7ry&cid=301628704&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width:100%;height:500px;min-width:375px;min-height:200px"> </iframe>

<p><a href="https://www.bilibili.com/video/bv1ji4y1T7ry" target="_blank" rel="noopener">https://www.bilibili.com/video/bv1ji4y1T7ry</a></p>
<p><img src="https://ae01.alicdn.com/kf/Ufb36207a36104a7aa5613b7e040e7a39A.jpg" alt="演示1"></p>
<h2 id="大致原理"><a href="#大致原理" class="headerlink" title="大致原理"></a>大致原理</h2><p>通过字体黑科技在actionbar显示图片，反向空格调整到适合位置。<br>然后生成4个药水云，分别检测玩家的4个装备槽位，并且更改药水云的名字</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"># eqv:main<br>execute as <span class="hljs-meta">@a</span> at <span class="hljs-meta">@s</span> unless entity <span class="hljs-meta">@s</span>[predicate=eqv:helmet] run data merge entity <span class="hljs-meta">@e</span>[type=area_effect_cloud,limit=<span class="hljs-number">1</span>,tag=eqv-helmet,distance=..<span class="hljs-number">1</span>] &#123;CustomName:<span class="hljs-string">'&#123;"text": "\\ue103"&#125;'</span>&#125;<br>execute as <span class="hljs-meta">@a</span> at <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> data entity <span class="hljs-meta">@s</span> Inventory.[&#123;Slot:<span class="hljs-number">103</span>b,id:<span class="hljs-string">"minecraft:leather_helmet"</span>,Count:<span class="hljs-number">1</span>b&#125;] run data merge entity <span class="hljs-meta">@e</span>[type=area_effect_cloud,limit=<span class="hljs-number">1</span>,tag=eqv-helmet,distance=..<span class="hljs-number">1</span>] &#123;CustomName:<span class="hljs-string">'&#123;"text": "\\ue120"&#125;'</span>&#125;<br>execute as <span class="hljs-meta">@a</span> at <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> data entity <span class="hljs-meta">@s</span> Inventory.[&#123;Slot:<span class="hljs-number">103</span>b,id:<span class="hljs-string">"minecraft:chainmail_helmet"</span>,Count:<span class="hljs-number">1</span>b&#125;] run data merge entity <span class="hljs-meta">@e</span>[type=area_effect_cloud,limit=<span class="hljs-number">1</span>,tag=eqv-helmet,distance=..<span class="hljs-number">1</span>] &#123;CustomName:<span class="hljs-string">'&#123;"text": "\\ue10A"&#125;'</span>&#125;<br>execute as <span class="hljs-meta">@a</span> at <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> data entity <span class="hljs-meta">@s</span> Inventory.[&#123;Slot:<span class="hljs-number">103</span>b,id:<span class="hljs-string">"minecraft:golden_helmet"</span>,Count:<span class="hljs-number">1</span>b&#125;] run data merge entity <span class="hljs-meta">@e</span>[type=area_effect_cloud,limit=<span class="hljs-number">1</span>,tag=eqv-helmet,distance=..<span class="hljs-number">1</span>] &#123;CustomName:<span class="hljs-string">'&#123;"text": "\\ue10F"&#125;'</span>&#125;<br>execute as <span class="hljs-meta">@a</span> at <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> data entity <span class="hljs-meta">@s</span> Inventory.[&#123;Slot:<span class="hljs-number">103</span>b,id:<span class="hljs-string">"minecraft:iron_helmet"</span>,Count:<span class="hljs-number">1</span>b&#125;] run data merge entity <span class="hljs-meta">@e</span>[type=area_effect_cloud,limit=<span class="hljs-number">1</span>,tag=eqv-helmet,distance=..<span class="hljs-number">1</span>] &#123;CustomName:<span class="hljs-string">'&#123;"text": "\\ue113"&#125;'</span>&#125;<br>execute as <span class="hljs-meta">@a</span> at <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> data entity <span class="hljs-meta">@s</span> Inventory.[&#123;Slot:<span class="hljs-number">103</span>b,id:<span class="hljs-string">"minecraft:diamond_helmet"</span>,Count:<span class="hljs-number">1</span>b&#125;] run data merge entity <span class="hljs-meta">@e</span>[type=area_effect_cloud,limit=<span class="hljs-number">1</span>,tag=eqv-helmet,distance=..<span class="hljs-number">1</span>] &#123;CustomName:<span class="hljs-string">'&#123;"text": "\\ue117"&#125;'</span>&#125;<br>execute as <span class="hljs-meta">@a</span> at <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> data entity <span class="hljs-meta">@s</span> Inventory.[&#123;Slot:<span class="hljs-number">103</span>b,id:<span class="hljs-string">"minecraft:netherite_helmet"</span>,Count:<span class="hljs-number">1</span>b&#125;] run data merge entity <span class="hljs-meta">@e</span>[type=area_effect_cloud,limit=<span class="hljs-number">1</span>,tag=eqv-helmet,distance=..<span class="hljs-number">1</span>] &#123;CustomName:<span class="hljs-string">'&#123;"text": "\\ue11B"&#125;'</span>&#125;<br>execute as <span class="hljs-meta">@a</span> at <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> data entity <span class="hljs-meta">@s</span> Inventory.[&#123;Slot:<span class="hljs-number">103</span>b,id:<span class="hljs-string">"minecraft:turtle_helmet"</span>,Count:<span class="hljs-number">1</span>b&#125;] run data merge entity <span class="hljs-meta">@e</span>[type=area_effect_cloud,limit=<span class="hljs-number">1</span>,tag=eqv-helmet,distance=..<span class="hljs-number">1</span>] &#123;CustomName:<span class="hljs-string">'&#123;"text": "\\ue11C"&#125;'</span>&#125;<br></code></pre></td></tr></table></figure>

<p>值得注意的是，由于头上可以戴很多奇怪的东西，所以写个断言来处理所有无效物品的情况。<br>然后再生成4个药水云，用于显示装备耐久条。<br>令药水云分别把对应装备的Damage存到计分板，然后就是简单粗暴的穷举（ ,判断装备然后对应比较现在的Damage位于哪个区间并显示耐久条</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"># eqv:main<br>execute as <span class="hljs-meta">@e</span>[type=area_effect_cloud,tag=eqv-h-d] at <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> entity <span class="hljs-meta">@a</span>[distance=..<span class="hljs-number">1</span>,limit=<span class="hljs-number">1</span>,predicate=eqv:helmet] run execute as <span class="hljs-meta">@s</span> store result score <span class="hljs-meta">@s</span> eqv-durability run data get entity <span class="hljs-meta">@a</span>[distance=..<span class="hljs-number">1</span>,limit=<span class="hljs-number">1</span>,predicate=eqv:helmet] Inventory.[&#123;Slot:<span class="hljs-number">103</span>b&#125;].tag.Damage <br>execute as <span class="hljs-meta">@e</span>[type=area_effect_cloud,tag=eqv-h-d] at <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> data entity <span class="hljs-meta">@a</span>[limit=<span class="hljs-number">1</span>,distance=..<span class="hljs-number">1</span>] Inventory.[&#123;Slot:<span class="hljs-number">103</span>b,id:<span class="hljs-string">"minecraft:leather_helmet"</span>,Count:<span class="hljs-number">1</span>b&#125;] run function eqv:helmet/leather<br>execute as <span class="hljs-meta">@e</span>[type=area_effect_cloud,tag=eqv-h-d] at <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> data entity <span class="hljs-meta">@a</span>[limit=<span class="hljs-number">1</span>,distance=..<span class="hljs-number">1</span>] Inventory.[&#123;Slot:<span class="hljs-number">103</span>b,id:<span class="hljs-string">"minecraft:chainmail_helmet"</span>,Count:<span class="hljs-number">1</span>b&#125;] run function eqv:helmet/chainmail<br>execute as <span class="hljs-meta">@e</span>[type=area_effect_cloud,tag=eqv-h-d] at <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> data entity <span class="hljs-meta">@a</span>[limit=<span class="hljs-number">1</span>,distance=..<span class="hljs-number">1</span>] Inventory.[&#123;Slot:<span class="hljs-number">103</span>b,id:<span class="hljs-string">"minecraft:golden_helmet"</span>,Count:<span class="hljs-number">1</span>b&#125;] run function eqv:helmet/golden<br>execute as <span class="hljs-meta">@e</span>[type=area_effect_cloud,tag=eqv-h-d] at <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> data entity <span class="hljs-meta">@a</span>[limit=<span class="hljs-number">1</span>,distance=..<span class="hljs-number">1</span>] Inventory.[&#123;Slot:<span class="hljs-number">103</span>b,id:<span class="hljs-string">"minecraft:iron_helmet"</span>,Count:<span class="hljs-number">1</span>b&#125;] run function eqv:helmet/iron<br>execute as <span class="hljs-meta">@e</span>[type=area_effect_cloud,tag=eqv-h-d] at <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> data entity <span class="hljs-meta">@a</span>[limit=<span class="hljs-number">1</span>,distance=..<span class="hljs-number">1</span>] Inventory.[&#123;Slot:<span class="hljs-number">103</span>b,id:<span class="hljs-string">"minecraft:diamond_helmet"</span>,Count:<span class="hljs-number">1</span>b&#125;] run function eqv:helmet/diamond<br>execute as <span class="hljs-meta">@e</span>[type=area_effect_cloud,tag=eqv-h-d] at <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> data entity <span class="hljs-meta">@a</span>[limit=<span class="hljs-number">1</span>,distance=..<span class="hljs-number">1</span>] Inventory.[&#123;Slot:<span class="hljs-number">103</span>b,id:<span class="hljs-string">"minecraft:netherite_helmet"</span>,Count:<span class="hljs-number">1</span>b&#125;] run function eqv:helmet/netherite<br>execute as <span class="hljs-meta">@e</span>[type=area_effect_cloud,tag=eqv-h-d] at <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> data entity <span class="hljs-meta">@a</span>[limit=<span class="hljs-number">1</span>,distance=..<span class="hljs-number">1</span>] Inventory.[&#123;Slot:<span class="hljs-number">103</span>b,id:<span class="hljs-string">"minecraft:turtle_helmet"</span>,Count:<span class="hljs-number">1</span>b&#125;] run function eqv:helmet/turtle<br><br># eqv:helmet/golden<br>execute as <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> score <span class="hljs-meta">@s</span> eqv-durability matches <span class="hljs-number">1</span>..<span class="hljs-number">6</span> run data merge entity <span class="hljs-meta">@s</span> &#123;CustomName:<span class="hljs-string">'&#123;"text":"\\ue121"&#125;'</span>&#125;<br>execute as <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> score <span class="hljs-meta">@s</span> eqv-durability matches <span class="hljs-number">7</span>..<span class="hljs-number">11</span> run data merge entity <span class="hljs-meta">@s</span> &#123;CustomName:<span class="hljs-string">'&#123;"text":"\\ue122"&#125;'</span>&#125;<br>execute as <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> score <span class="hljs-meta">@s</span> eqv-durability matches <span class="hljs-number">12</span>..<span class="hljs-number">16</span> run data merge entity <span class="hljs-meta">@s</span> &#123;CustomName:<span class="hljs-string">'&#123;"text":"\\ue123"&#125;'</span>&#125;<br>execute as <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> score <span class="hljs-meta">@s</span> eqv-durability matches <span class="hljs-number">17</span>..<span class="hljs-number">21</span> run data merge entity <span class="hljs-meta">@s</span> &#123;CustomName:<span class="hljs-string">'&#123;"text":"\\ue124"&#125;'</span>&#125;<br>execute as <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> score <span class="hljs-meta">@s</span> eqv-durability matches <span class="hljs-number">22</span>..<span class="hljs-number">27</span> run data merge entity <span class="hljs-meta">@s</span> &#123;CustomName:<span class="hljs-string">'&#123;"text":"\\ue125"&#125;'</span>&#125;<br>execute as <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> score <span class="hljs-meta">@s</span> eqv-durability matches <span class="hljs-number">28</span>..<span class="hljs-number">32</span> run data merge entity <span class="hljs-meta">@s</span> &#123;CustomName:<span class="hljs-string">'&#123;"text":"\\ue126"&#125;'</span>&#125;<br>execute as <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> score <span class="hljs-meta">@s</span> eqv-durability matches <span class="hljs-number">33</span>..<span class="hljs-number">37</span> run data merge entity <span class="hljs-meta">@s</span> &#123;CustomName:<span class="hljs-string">'&#123;"text":"\\ue127"&#125;'</span>&#125;<br>execute as <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> score <span class="hljs-meta">@s</span> eqv-durability matches <span class="hljs-number">38</span>..<span class="hljs-number">42</span> run data merge entity <span class="hljs-meta">@s</span> &#123;CustomName:<span class="hljs-string">'&#123;"text":"\\ue128"&#125;'</span>&#125;<br>execute as <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> score <span class="hljs-meta">@s</span> eqv-durability matches <span class="hljs-number">43</span>..<span class="hljs-number">48</span> run data merge entity <span class="hljs-meta">@s</span> &#123;CustomName:<span class="hljs-string">'&#123;"text":"\\ue129"&#125;'</span>&#125;<br>execute as <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> score <span class="hljs-meta">@s</span> eqv-durability matches <span class="hljs-number">49</span>..<span class="hljs-number">53</span> run data merge entity <span class="hljs-meta">@s</span> &#123;CustomName:<span class="hljs-string">'&#123;"text":"\\ue12A"&#125;'</span>&#125;<br>execute as <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> score <span class="hljs-meta">@s</span> eqv-durability matches <span class="hljs-number">54</span>..<span class="hljs-number">58</span> run data merge entity <span class="hljs-meta">@s</span> &#123;CustomName:<span class="hljs-string">'&#123;"text":"\\ue12B"&#125;'</span>&#125;<br>execute as <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> score <span class="hljs-meta">@s</span> eqv-durability matches <span class="hljs-number">59</span>..<span class="hljs-number">64</span> run data merge entity <span class="hljs-meta">@s</span> &#123;CustomName:<span class="hljs-string">'&#123;"text":"\\ue12C"&#125;'</span>&#125;<br>execute as <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> score <span class="hljs-meta">@s</span> eqv-durability matches <span class="hljs-number">65</span>..<span class="hljs-number">69</span> run data merge entity <span class="hljs-meta">@s</span> &#123;CustomName:<span class="hljs-string">'&#123;"text":"\\ue12D"&#125;'</span>&#125;<br>execute as <span class="hljs-meta">@s</span> <span class="hljs-keyword">if</span> score <span class="hljs-meta">@s</span> eqv-durability matches <span class="hljs-number">73</span>..<span class="hljs-number">77</span> run data merge entity <span class="hljs-meta">@s</span> &#123;CustomName:<span class="hljs-string">'&#123;"text":"\\ue12E"&#125;'</span>&#125;<br></code></pre></td></tr></table></figure>

<p>这种做法是非常naive的方案，不过好就好在非常无脑XD。可能会导致耐久条显示可能和实际有些出入，但是大体上的范围是差不多的。<br>同样的方法操作下来，我们就会得到8个有不同名字的药水云，然后使用title里的<em>selector</em>显示他们的名字，配以反向空格调整位置。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">execute as <span class="hljs-meta">@a</span> at <span class="hljs-meta">@s</span> run title <span class="hljs-meta">@s</span> actionbar [<span class="hljs-string">""</span>,&#123;<span class="hljs-string">"text"</span>: <span class="hljs-string">"\ue102"</span>&#125;,&#123;<span class="hljs-string">"selector"</span>:<span class="hljs-string">"@e[type=area_effect_cloud,tag=eqv-helmet,distance=..1,limit=1]"</span>&#125;,&#123;<span class="hljs-string">"text"</span>:<span class="hljs-string">"\ue101"</span>&#125;,&#123;<span class="hljs-string">"selector"</span>:<span class="hljs-string">"@e[type=area_effect_cloud,tag=eqv-h-d,distance=..1,limit=1]"</span>&#125;,&#123;<span class="hljs-string">"text"</span>:<span class="hljs-string">"  "</span>&#125;,&#123;<span class="hljs-string">"selector"</span>:<span class="hljs-string">"@e[type=area_effect_cloud,tag=eqv-chestplate,distance=..1,limit=1]"</span>&#125;,&#123;<span class="hljs-string">"text"</span>:<span class="hljs-string">"\ue100"</span>&#125;,&#123;<span class="hljs-string">"selector"</span>:<span class="hljs-string">"@e[type=area_effect_cloud,tag=eqv-c-d,distance=..1,limit=1]"</span>&#125;,&#123;<span class="hljs-string">"text"</span>:<span class="hljs-string">"  "</span>&#125;,&#123;<span class="hljs-string">"selector"</span>:<span class="hljs-string">"@e[type=area_effect_cloud,tag=eqv-leggings,distance=..1,limit=1]"</span>&#125;,&#123;<span class="hljs-string">"text"</span>:<span class="hljs-string">"\ue101"</span>&#125;,&#123;<span class="hljs-string">"selector"</span>:<span class="hljs-string">"@e[type=area_effect_cloud,tag=eqv-l-d,distance=..1,limit=1]"</span>&#125;,&#123;<span class="hljs-string">"text"</span>:<span class="hljs-string">"  "</span>&#125;,&#123;<span class="hljs-string">"selector"</span>:<span class="hljs-string">"@e[type=area_effect_cloud,tag=eqv-boots,distance=..1,limit=1]"</span>&#125;,&#123;<span class="hljs-string">"text"</span>:<span class="hljs-string">"\ue100"</span>&#125;,&#123;<span class="hljs-string">"selector"</span>:<span class="hljs-string">"@e[type=area_effect_cloud,tag=eqv-b-d,distance=..1,limit=1]"</span>&#125;]<br></code></pre></td></tr></table></figure>

<p>当然，由于位置关系是我用眼看着大概写的，所以难免会有点误差，但是我又不是强迫症XD。<br><del>另外，我本来是想通过类似”245 / 562”这样的方式来显示耐久的，但是我一用ttf字体，mc就直接崩溃，作罢。</del></p>
<h2 id="鸣谢"><a href="#鸣谢" class="headerlink" title="鸣谢"></a>鸣谢</h2><ul>
<li>国外大佬的潜影盒显示黑科技给我的灵感和一些思路</li>
<li>黑猫的字体艺术教程</li>
<li>dhp好用</li>
</ul>
<h2 id="datapack"><a href="#datapack" class="headerlink" title="datapack"></a>datapack</h2><p>链接: <a href="https://pan.baidu.com/s/1e7yhgb4R77ynFKj3P73TiA" target="_blank" rel="noopener">https://pan.baidu.com/s/1e7yhgb4R77ynFKj3P73TiA</a><br>提取码: itaf</p>
]]></content>
      <tags>
        <tag>commands</tag>
      </tags>
  </entry>
  <entry>
    <title>[1.15.2]Minecraft数据包---蓄力靴</title>
    <url>/2020/08/07/1-15-2-Minecraft%E6%95%B0%E6%8D%AE%E5%8C%85-%E8%93%84%E5%8A%9B%E9%9D%B4/</url>
    <content><![CDATA[<p>该数据包增加了物品：蓄力靴，能够让玩家通过潜行蓄力高跳</p>
<a id="more"></a>

<h2 id="效果演示"><a href="#效果演示" class="headerlink" title="效果演示"></a>效果演示</h2><p>B站视频演示：</p>
<iframe src="//player.bilibili.com/player.html?aid=286570755&bvid=BV19f4y1X7zP&cid=218865023&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width:100%;height:500px;min-width:375px;min-height:200px"> </iframe>

<p><a href="https://www.bilibili.com/video/BV19f4y1X7zP" target="_blank" rel="noopener">https://www.bilibili.com/video/BV19f4y1X7zP</a></p>
<p><img src="https://p.pstatp.com/origin/100110000f7c7cb70b06f" alt="演示1"></p>
<h2 id="大致原理"><a href="#大致原理" class="headerlink" title="大致原理"></a>大致原理</h2><p>玩家蓄力，记分板加分，然后递归刷slime，最后刷个火球<br><del>slime的挤压效果比较弱的，所以递归刷很多才能比较明显的体现，但是火球的效果非常的大，所以只是在最后刷了一个，即便如此，还是飞得很高。</del></p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">execute as <span class="hljs-meta">@s</span> at <span class="hljs-meta">@s</span> anchored feet positioned ^ ^ ^-<span class="hljs-number">0.3</span> run summon slime ~ ~-<span class="hljs-number">0.3</span> ~ &#123;Invulnerable:<span class="hljs-number">1</span>b,NoAI:<span class="hljs-number">1</span>b,Size:<span class="hljs-number">4</span>,Tags:[<span class="hljs-string">"boost-marker"</span>],ActiveEffects:[&#123;Id:<span class="hljs-number">14</span>,Amplifier:<span class="hljs-number">1</span>b,Duration:<span class="hljs-number">9999</span>,ShowParticles:<span class="hljs-keyword">false</span>&#125;]&#125;<br>effect give <span class="hljs-meta">@e</span>[type=slime,tag=boost-marker] resistance <span class="hljs-number">9999</span> <span class="hljs-number">10</span> <span class="hljs-keyword">true</span><br>effect give <span class="hljs-meta">@e</span>[type=slime,tag=boost-marker] invisibility <span class="hljs-number">9999</span> <span class="hljs-number">10</span> <span class="hljs-keyword">true</span><br>execute as <span class="hljs-meta">@s</span> at <span class="hljs-meta">@s</span> run scoreboard players remove <span class="hljs-meta">@s</span> upboots-sneak <span class="hljs-number">1</span><br>execute as <span class="hljs-meta">@s</span>[scores=&#123;upboots-sneak=<span class="hljs-number">1</span>..&#125;] at <span class="hljs-meta">@s</span> run function upboots:jump<br><br>execute as <span class="hljs-meta">@a</span>[scores=&#123;upboots-sneak=<span class="hljs-number">0</span>&#125;,tag=!fireball] at <span class="hljs-meta">@s</span> run summon fireball ~ ~<span class="hljs-number">0.3</span> ~ &#123;Motion:[<span class="hljs-number">0.0</span>d,-<span class="hljs-number">1.2</span>d,<span class="hljs-number">0.0</span>d],NoGravity:<span class="hljs-number">1</span>b,Invulnerable:<span class="hljs-number">1</span>b,ExplosionPower:-<span class="hljs-number">1</span>,direction:[<span class="hljs-number">0.0</span>d,-<span class="hljs-number">1.2</span>d,<span class="hljs-number">0.0</span>d]&#125;<br>execute as <span class="hljs-meta">@a</span>[scores=&#123;upboots-sneak=<span class="hljs-number">0</span>&#125;] at <span class="hljs-meta">@s</span> run tag <span class="hljs-meta">@s</span> add fireball<br></code></pre></td></tr></table></figure>

<p><del>火球的 <em>ExplosionPower</em> 标签决定了它的爆炸威力，只能设置为整数，数值越大效果越强，但是如果为负值，就会威力很小，但是有很强的击退效果，这个datapack正是利用了这一点。不过这东西不稳定而且也不好控制，所以局限性还是挺大的。</del></p>
<p>然后就没了，剩下一点后续的处理和一些actionbar的提示之类的。毕竟做的也很粗糙。<br>这个小玩意我写了两个版本，因为第一个版本实在不太行，基本没有竖直的高度变化，只能平地前进，令人很不爽。不过用了火球黑科技之后效果就好多了，这也就是这个datapack的核心之处。</p>
<h2 id="鸣谢"><a href="#鸣谢" class="headerlink" title="鸣谢"></a>鸣谢</h2><ul>
<li>dhp真好用</li>
<li>很早之前某帖子给我的灵感，火球黑科技真是太棒了</li>
</ul>
<h2 id="datapack"><a href="#datapack" class="headerlink" title="datapack"></a>datapack</h2><p>链接：<a href="https://pan.baidu.com/s/1L3PkoDUZv_UH18rBxK_VsQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1L3PkoDUZv_UH18rBxK_VsQ</a><br>提取码：dp31</p>
]]></content>
      <tags>
        <tag>commands</tag>
      </tags>
  </entry>
  <entry>
    <title>换个图床</title>
    <url>/2020/04/28/%E6%8D%A2%E4%B8%AA%E5%9B%BE%E5%BA%8A/</url>
    <content><![CDATA[<p>之前是用七牛的云储存的当图床的，速度倒是很快，不过前段时间到期了<br>然后我才发现七牛的域名每半个月回收一次，这就很烦了，总不能半个月重新改一遍链接吧<br>然后又不想放在本地，github的加载速度不慢却也不能说快，所以改成图床了。</p>
<a id="more"></a>

<p>至于图床的选择，最开始是打算用<em>sm.ms</em>的，但是据说由于滥用，速度慢了点。<br>而且当时去看的时候，主页加载半天没加载出来，所以放弃。</p>
<p>在网上搜了搜，最后选定了路过图床<em>imgchr.com</em><br>注册了个账号，放了几张图上去，速度测试还可以。<br><del>虽然说一开始由于自己使用方法的错误，一度以为图床加载速度很慢</del><br>虽然说每次更新文章都要手动传图片，加链接，不过毕竟我这更新速度也慢，图片也少，所以问题还是不大的XD</p>
<hr>
<p>2020.5.5 更新<br>头图的加载速度还是不能让我满意，所以去找了一下其他的图床<br>然后发现了一个新开的图床<em>img.rruu.net</em><br>速度还不错，而且支持Picgo，所以又把图片全转过去了，之后有空再处理一下Picgo的对接，就不会再改动了。</p>
<hr>
<p>2021.2.25 更新<br>过了快一年了，我总算是把PicGo的处理弄好了。<br><del>咕到现在，其实就是懒啦</del><br>但是我感觉似乎也没有太多的便利，因为图片还要先压缩一遍。可能对图片处理量比较大的blog会有比较明显吧。<br>不过方便一点总归是好的XD<br>传张图测试一下：</p>
<p><del>这张图压缩的过了XD</del><br><img src="https://img.rruu.net/image/6037cc1ea0f7a" alt="test"></p>
<p>体验不是很好，给图片重命名的时候卡死了（<br>而且传图的速度很慢，我感觉我打开网页-上传-复制链接的速度和这个其实差不多<br>有的时候会上传失败，总之就是不太好用:(</p>
<hr>
<p>2021.6.9 更新<br>如优图床好像不能用了，作者的网站也隔上墙了，我怀疑是因为被搞了。<br>所以去注册了经典sm.ms的图床，还是很快的。</p>
]]></content>
      <tags>
        <tag>strange</tag>
      </tags>
  </entry>
  <entry>
    <title>[1.15.2]Minecraft数据包---原版箱子菜单</title>
    <url>/2020/04/24/1-15-2-Minecraft%E6%95%B0%E6%8D%AE%E5%8C%85-%E5%8E%9F%E7%89%88%E7%AE%B1%E5%AD%90%E8%8F%9C%E5%8D%95/</url>
    <content><![CDATA[<p><img src="https://ae01.alicdn.com/kf/H15a48e639d40485e8d2f66a61d7d859cT.jpg" alt="cover"><br>该数据包允许玩家较为容易的创建一个自定义的箱子菜单。<br>并且可以自定义点击物品执行命令。</p>
<a id="more"></a>

<h2 id="效果演示"><a href="#效果演示" class="headerlink" title="效果演示"></a>效果演示</h2><p>B站视频演示：</p>
<iframe src="//player.bilibili.com/player.html?aid=925266260&bvid=BV1qT4y1G79T&cid=180007446&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width:100%;height:500px;min-width:375px;min-height:200px"> </iframe>

<p><a href="https://www.bilibili.com/video/BV1qT4y1G79T" target="_blank" rel="noopener">https://www.bilibili.com/video/BV1qT4y1G79T</a></p>
<p><img src="https://img.rruu.net/image/5eb0e47745d0f" alt="演示1"></p>
<p><img src="https://img.rruu.net/image/5eb0e4684c5f4" alt="演示2"></p>
<p>使用</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">/function chestmenu:on<br>/function chestmenu:off<br></code></pre></td></tr></table></figure>

<p>来开/关系统，在系统关闭情况下，无法使用箱子菜单</p>
<p>使用</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">/function chestmenu:store_chest<br>/function chestmenu:store_minecart<br></code></pre></td></tr></table></figure>

<p>来创建箱子菜单/箱子矿车菜单，可自定义其中物品，摆出一个对称的菜单界面 :D</p>
<p>然后通过</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">/function chestmenu:upload<br></code></pre></td></tr></table></figure>

<p>上传箱子菜单</p>
<p>使用</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">/function chestmenu:export_chest<br>/function chestmenu:export_minecart<br></code></pre></td></tr></table></figure>

<p>来创建箱子菜单/矿车菜单</p>
<p>然后开发者可以在<br><em>datapacks\chestmenu\data\chestmenu\functions\main</em><br>修改对应物品格对应的命令<br><del>就是那两块无聊的穷举啦</del></p>
<h2 id="大致原理"><a href="#大致原理" class="headerlink" title="大致原理"></a>大致原理</h2><p>首先生成储存物品的箱子/箱子矿车，玩家摆好物品后使用命令将Items标签上传至天上的箱子矿车存起来<br>Items标签会加上不同tag存两份，以便于后续进行比对</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">#chestmenu:upload<br><br>#储存-箱子<br>execute as <span class="hljs-meta">@e</span>[type=area_effect_cloud,tag=cm-store,limit=<span class="hljs-number">1</span>] at <span class="hljs-meta">@s</span> run data modify block ~ ~ ~ Items.[] merge value &#123;tag:&#123;id:<span class="hljs-string">"cm-tag1"</span>&#125;&#125;<br>execute as <span class="hljs-meta">@e</span>[type=area_effect_cloud,tag=cm-store,limit=<span class="hljs-number">1</span>] at <span class="hljs-meta">@s</span> run data modify entity <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-tag1,limit=<span class="hljs-number">1</span>] Items set from block ~ ~ ~ Items<br>execute as <span class="hljs-meta">@e</span>[type=area_effect_cloud,tag=cm-store,limit=<span class="hljs-number">1</span>] at <span class="hljs-meta">@s</span> run data remove block ~ ~ ~ Item.[].tag.id<br>execute as <span class="hljs-meta">@e</span>[type=area_effect_cloud,tag=cm-store,limit=<span class="hljs-number">1</span>] at <span class="hljs-meta">@s</span> run data modify block ~ ~ ~ Items.[] merge value &#123;tag:&#123;id:<span class="hljs-string">"cm-item"</span>&#125;&#125;<br>execute as <span class="hljs-meta">@e</span>[type=area_effect_cloud,tag=cm-store,limit=<span class="hljs-number">1</span>] at <span class="hljs-meta">@s</span> run data modify entity <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-tag2,limit=<span class="hljs-number">1</span>] Items set from block ~ ~ ~ Items<br>execute as <span class="hljs-meta">@e</span>[type=area_effect_cloud,tag=cm-store,limit=<span class="hljs-number">1</span>] at <span class="hljs-meta">@s</span> run setblock ~ ~ ~ air replace<br><br>#矿车<br>execute as <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-store,limit=<span class="hljs-number">1</span>] at <span class="hljs-meta">@s</span> run data modify entity <span class="hljs-meta">@s</span> Items.[] merge value &#123;tag:&#123;id:<span class="hljs-string">"cm-tag1"</span>&#125;&#125;<br>execute as <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-store,limit=<span class="hljs-number">1</span>] at <span class="hljs-meta">@s</span> run data modify entity <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-tag3,limit=<span class="hljs-number">1</span>] Items set from entity <span class="hljs-meta">@s</span> Items<br>execute as <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-store,limit=<span class="hljs-number">1</span>] at <span class="hljs-meta">@s</span> run data remove entity <span class="hljs-meta">@s</span> Item.[].tag.id<br>execute as <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-store,limit=<span class="hljs-number">1</span>] at <span class="hljs-meta">@s</span> run data modify entity <span class="hljs-meta">@s</span> Items.[] merge value &#123;tag:&#123;id:<span class="hljs-string">"cm-item"</span>&#125;&#125;<br>execute as <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-store,limit=<span class="hljs-number">1</span>] at <span class="hljs-meta">@s</span> run data modify entity <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-tag4,limit=<span class="hljs-number">1</span>] Items set from entity <span class="hljs-meta">@s</span> Items<br>tellraw <span class="hljs-meta">@s</span> [<span class="hljs-string">""</span>,&#123;<span class="hljs-string">"text"</span>:<span class="hljs-string">"=上传成功="</span>,<span class="hljs-string">"color"</span>:<span class="hljs-string">"red"</span>,<span class="hljs-string">"bold"</span>:<span class="hljs-keyword">true</span>&#125;]<br>kill <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-store]<br></code></pre></td></tr></table></figure>

<p>然后玩家创建菜单，将菜单中的物品高频覆盖原来模板中的物品<br>如果菜单物品与模板物品一致，那么检测不到模板物品<br>如果玩家拿走某物品，那么即可检测到对应的模板物品，然后获取slot转成分数执行一遍命令<br>最后把模板物品覆盖到菜单里，恢复原样<br>(思路由雨弓提供XD)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">#chestmenu:main<br><br>#aec,导出与对比<br>execute as <span class="hljs-meta">@e</span>[type=area_effect_cloud,tag=cm-export] at <span class="hljs-meta">@s</span> run data modify entity <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-compare,limit=<span class="hljs-number">1</span>] Items set from entity <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-tag1,limit=<span class="hljs-number">1</span>] Items<br>execute as <span class="hljs-meta">@e</span>[type=area_effect_cloud,tag=cm-export] at <span class="hljs-meta">@s</span> run data modify entity <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-compare,limit=<span class="hljs-number">1</span>] Items append from block ~ ~ ~ Items.[]<br><br>#minecart,导出与对比<br>execute as <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-export] at <span class="hljs-meta">@s</span> run data modify entity <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-compare2,limit=<span class="hljs-number">1</span>] Items set from entity <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-tag3,limit=<span class="hljs-number">1</span>] Items<br>execute as <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-export] at <span class="hljs-meta">@s</span> run data modify entity <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-compare2,limit=<span class="hljs-number">1</span>] Items append from entity <span class="hljs-meta">@s</span> Items.[]<br></code></pre></td></tr></table></figure>

<p>如果系统关闭后，maker被删掉，箱子菜单无法使用，会出现提示内容</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">execute as <span class="hljs-meta">@e</span>[type=area_effect_cloud,tag=cm-export] at <span class="hljs-meta">@s</span> run data modify block ~ ~ ~ Items set from entity <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-tag2,limit=<span class="hljs-number">1</span>] Items<br>execute as <span class="hljs-meta">@e</span>[type=area_effect_cloud,tag=cm-export] at <span class="hljs-meta">@s</span> unless entity <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-compare] run tellraw <span class="hljs-meta">@p</span> [<span class="hljs-string">""</span>,&#123;<span class="hljs-string">"text"</span>:<span class="hljs-string">"哦吼，ChestMenu系统好像坏掉勒\n"</span>,<span class="hljs-string">"color"</span>:<span class="hljs-string">"gold"</span>&#125;,&#123;<span class="hljs-string">"text"</span>:<span class="hljs-string">"请使用 "</span>,<span class="hljs-string">"color"</span>:<span class="hljs-string">"gold"</span>&#125;,&#123;<span class="hljs-string">"text"</span>:<span class="hljs-string">"/function chestmenu:on "</span>,<span class="hljs-string">"color"</span>:<span class="hljs-string">"red"</span>,<span class="hljs-string">"blod"</span>:<span class="hljs-keyword">true</span>&#125;,&#123;<span class="hljs-string">"text"</span>:<span class="hljs-string">"以重置系统"</span>,<span class="hljs-string">"color"</span>:<span class="hljs-string">"gold"</span>&#125;]<br>execute as <span class="hljs-meta">@e</span>[type=area_effect_cloud,tag=cm-export] at <span class="hljs-meta">@s</span> unless entity <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-compare] run fill ~ ~ ~ ~ ~ ~ air replace minecraft:chest<br><br>execute as <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-export] at <span class="hljs-meta">@s</span> run data modify entity <span class="hljs-meta">@s</span> Items set from entity <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-tag4,limit=<span class="hljs-number">1</span>] Items<br>execute as <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-export] at <span class="hljs-meta">@s</span> unless entity <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-compare2] run tellraw <span class="hljs-meta">@p</span> [<span class="hljs-string">""</span>,&#123;<span class="hljs-string">"text"</span>:<span class="hljs-string">"哦吼，ChestMenu系统好像坏掉勒\n"</span>,<span class="hljs-string">"color"</span>:<span class="hljs-string">"gold"</span>&#125;,&#123;<span class="hljs-string">"text"</span>:<span class="hljs-string">"请使用 "</span>,<span class="hljs-string">"color"</span>:<span class="hljs-string">"gold"</span>&#125;,&#123;<span class="hljs-string">"text"</span>:<span class="hljs-string">"/function chestmenu:on "</span>,<span class="hljs-string">"color"</span>:<span class="hljs-string">"red"</span>,<span class="hljs-string">"blod"</span>:<span class="hljs-keyword">true</span>&#125;,&#123;<span class="hljs-string">"text"</span>:<span class="hljs-string">"以重置系统"</span>,<span class="hljs-string">"color"</span>:<span class="hljs-string">"gold"</span>&#125;]<br>execute as <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-export] at <span class="hljs-meta">@s</span> unless entity <span class="hljs-meta">@e</span>[type=chest_minecart,tag=cm-compare2] run tp <span class="hljs-meta">@s</span> ~ ~-<span class="hljs-number">1210</span> ~<br></code></pre></td></tr></table></figure>

<p>现在可以手持特定nbt物品<em>{id:”minecartmenu”}</em>打开菜单了<br>通过断言判断玩家手持特定的物品，然后在直接玩家脸上糊个箱子矿车</p>
<figure class="highlight json"><table><tr><td class="code"><pre><code class="hljs json">&#123;<br>    <span class="hljs-attr">"condition"</span>:<span class="hljs-string">"minecraft:entity_properties"</span>,<br>    <span class="hljs-attr">"entity"</span>: <span class="hljs-string">"this"</span>,<br>    <span class="hljs-attr">"predicate"</span>: &#123;<br>        <span class="hljs-attr">"equipment"</span>:&#123;<br>            <span class="hljs-attr">"mainhand"</span>:&#123;<br>                <span class="hljs-attr">"nbt"</span>: <span class="hljs-string">"&#123;id:\"minecartmenu\"&#125;"</span><br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>还在持续更新，自己也有一些其他的想法想尝试实现，不过自己大概是没时间了。</p>
<h2 id="鸣谢"><a href="#鸣谢" class="headerlink" title="鸣谢"></a>鸣谢</h2><ul>
<li><p>雨弓，提供了核心思路</p>
</li>
<li><p>spg，dhp真好用</p>
</li>
<li><p>⊙v⊙，UIN标签</p>
</li>
<li><p>特仑苏牛奶</p>
</li>
</ul>
<h2 id="更新列表"><a href="#更新列表" class="headerlink" title="更新列表"></a>更新列表</h2><ul>
<li>v1.0:<br>发布</li>
<li>v1.1:<br>修复了生成菜单时执行奇怪指令的BUG<br>更改了矿车菜单的生成方式，现在可以手持特定nbt物品打开菜单了</li>
<li>v1.2:<br>优化体验，增加关闭ui的预设函数，可直接调用</li>
</ul>
<h2 id="datapack"><a href="#datapack" class="headerlink" title="datapack"></a>datapack</h2><p>链接：<a href="https://pan.baidu.com/s/1CSeJp3EH6_oOAo9VJE6VXA/" target="_blank" rel="noopener">https://pan.baidu.com/s/1CSeJp3EH6_oOAo9VJE6VXA/</a><br>提取码：96m5</p>
]]></content>
      <tags>
        <tag>commands</tag>
      </tags>
  </entry>
  <entry>
    <title>同步blog到gitee</title>
    <url>/2020/04/09/%E5%90%8C%E6%AD%A5blog%E5%88%B0gitee/</url>
    <content><![CDATA[<p>其实github速度还算可以（也有可能是缓存的原因），不过我还是去看了下gitee。<br>gitee毕竟还是在国内，速度肯定要比github快很多，而且仓库导入做得也不错，所以就同步一个吧。<br>post还是在本地写完上传github，然后在gitee那里复制仓库内容导过去，不算方便，但也可接受。<br>（有空再捣鼓一下直接传到gitee，应该不会太费劲，但那是后话了）</p>
<a id="more"></a>

<p>弄好之后试了一下，两边速度基本看不出太大差异，不过一些插件还是gitee那边快不少。<br>内部页面的加载速度也是gitee更胜一筹。</p>
<p><img src="https://img.rruu.net/image/5eb0e47a18472" alt="gitee更胜一筹"></p>
<p><img src="https://img.rruu.net/image/5eb0e47c6d42f" alt="github加载略慢"></p>
<p>两边的内容都是一样的（除非我忘了更新gitee），所以可以优先去访问gitee.io，毕竟还是快一点。</p>
<hr>
<p>2021.8.26 更新</p>
<p>心血来潮去freenom白嫖了个免费的一级域名 &lt;argon-gas.ml&gt;（其实是一年免费+免费续期，不嫌麻烦倒还好）<br>然后发现gitee的普通版gitpage不支持自定义域名，必须升级到pro版才能自定义，免费用户只有一个月试用。<br>所以就给了github的page，操作并不复杂，很快就搞好了。但是github的page就无法查看了,提示需要备案:(<br>挂梯子之后才发现可以正常浏览，而且域名也已经解析成功了。<br>感觉有点奇怪，这个域名是国外的小众域名，DNS直接用的Freenom的，服务器托管在github上，不应该要求备案的啊。<br>总之现在githubpage使用自定义域名后国内似乎上不去了，但挂梯子可正常浏览；giteepage没变化，国内还是看这个8 XD</p>
]]></content>
      <tags>
        <tag>strange</tag>
      </tags>
  </entry>
  <entry>
    <title>尝试做一张cover</title>
    <url>/2020/04/02/%E5%B0%9D%E8%AF%95%E5%81%9A%E4%B8%80%E5%BC%A0cover/</url>
    <content><![CDATA[<p>最近呢，想要自定义一下首页的cover。毕竟这是个Minecraft的站点，所以想要以Minecraft为题材做这么一张图片。<br>原图其实还蛮好看的，不过对比度似乎高了点，不太符合整体风格。所以我想用双色调风格，颜色也要偏向白/灰/黑之类的。<br>再加上我是个CBer（？），所以要和命令元素相关，画面中最好有一些技术性内容。<br>那么一番构（luan）思（xiang）之后，有了以下方案：</p>
<a id="more"></a>

<p>最初想放个命令方块在中间，周围放上各种奇怪的生物/物品，但是考虑到最后要做双色调，颜色可能会失去不少。而且我不太会布局，所以作罢。</p>
<p>后来又想搭个小场景，画了十分钟建了一个，怎么看怎么丑，作罢。</p>
<p>又想用c4d，mi之类的渲染一张，但是水平有限，作罢。</p>
<p>所以最后还是选了第一种方案，只不过把各种奇怪生物全删掉了，留了一只creeper，最后出来的效果其实还不错，调色感觉也比较符合整体效果。</p>
<p><img src="https://img.rruu.net/image/5eb1048c70e64" alt="cover"></p>
<p>以后会多做几张类似风格的，再做个自动轮换岂不美哉。</p>
<hr>
<p>2020.4.10 更新</p>
<p><img src="https://img.rruu.net/image/5eb1048d68df1" alt="cover"></p>
<hr>
<p>2020.4.30 更新</p>
<p><img src="https://ae01.alicdn.com/kf/He2d4c302323249d787636e16a5caa662M.jpg" alt="cover"></p>
<p>配色纠结了好久，不过成品我觉得还蛮好看的</p>
<hr>
<p>2020.6.25 更新<br><img src="https://ae01.alicdn.com/kf/H56dd2502d2944a5e83f4015e54d4a201r.jpg" alt="cover"></p>
<p><img src="https://ae01.alicdn.com/kf/H08f21a5c4c2941e08815e4f39f09a1c8B.jpg" alt="cover"></p>
<p><img src="https://ae01.alicdn.com/kf/Haa438cdb37514b6bb5f2c9415dd67fe2V.jpg" alt="cover"></p>
<p>端午回来摸个鱼<br>这几张是从一张跑酷地图（Phantom Run 1.0.4）截来的，作者是我们喜闻乐见的iWacky<br>这几张相对于之前的几张来说，元素比较多，色调的比较奇怪，有种咖喱味(?)</p>
<hr>
<p>2020.8.11 更新<br><img src="https://ae01.alicdn.com/kf/Uc488ff99fe234d29bb9626d4be32efddF.jpg" alt="cover"></p>
<p><img src="https://ae01.alicdn.com/kf/U9f6b0a121ce74706985324500bec38988.jpg" alt="cover"></p>
<p><img src="https://ae01.alicdn.com/kf/U29e86891870745de9294ac2712bddad3F.jpg" alt="cover"></p>
<p>地狱更新的几张图，感觉不是很满意，因为地狱确实挺暗的，场景也比较复杂，不太好整。<br>看了看还是选了那张最红的当做cover，因为比较符合地狱的风格。</p>
<hr>
<p>2021.2.25 更新<br><img src="https://ae01.alicdn.com/kf/Ue94bf42c655043388b30b3d3da08162bB.jpg" alt="cover"></p>
]]></content>
      <tags>
        <tag>strange</tag>
      </tags>
  </entry>
  <entry>
    <title>[1.15.2]Minecraft数据包---搬箱器</title>
    <url>/2020/03/28/1-15-2-Minecraft%E6%95%B0%E6%8D%AE%E5%8C%85-%E6%90%AC%E7%AE%B1%E5%99%A8/</url>
    <content><![CDATA[<p>该数据包允许玩家使用新增物品：搬箱器，来较为容易的搬运箱子。<br>该数据包隶属于 <em>cAsual woRk</em> (2/99)</p>
<a id="more"></a>

<h2 id="效果演示"><a href="#效果演示" class="headerlink" title="效果演示"></a>效果演示</h2><p>B站视频演示:</p>
<iframe src="//player.bilibili.com/player.html?aid=97530658&bvid=BV1xE411P7UL&cid=166502887&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width:100%;height:500px;min-width:375px;min-height:200px"> </iframe>

<p><a href="https://www.bilibili.com/video/BV1xE411P7UL" target="_blank" rel="noopener">https://www.bilibili.com/video/BV1xE411P7UL</a></p>
<p><img src="https://img.rruu.net/image/5eb0e46b2c89a" alt="演示1"></p>
<h2 id="大致原理"><a href="#大致原理" class="headerlink" title="大致原理"></a>大致原理</h2><p>判断玩家手持特殊胡萝卜杆，然后右键时视线追踪</p>
<figure class="highlight"><table><tr><td class="code"><pre><code class="hljs java">execute if entity @s[distance=..7] if block ~ ~ ~ #carry:chest run summon minecraft:armor_stand ~ ~ ~ &#123;Tags:["carry-maker"],Invisible:1b,Marker:1b,NoGravity:1b&#125;<br>execute if entity @s[distance=..7] unless block ~ ~ ~ #carry:chest positioned ^ ^ ^0.005 run function carry:ray1<br></code></pre></td></tr></table></figure>

<p>判断为箱子（包括陷阱箱）则在此处生成maker，然后将箱子的Items标签存进storage</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">execute as <span class="hljs-meta">@e</span>[type=armor_stand,tag=carry-maker] at <span class="hljs-meta">@s</span> run data modify storage carry Items set from block ~ ~ ~ Items<br></code></pre></td></tr></table></figure>

<p>清除箱子，并在最近玩家处生成箱子物品（偷懒了，这里的判断并不准确），将storage里标签再转回去</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">execute as <span class="hljs-meta">@e</span>[type=armor_stand,tag=carry-maker] at <span class="hljs-meta">@p</span>[scores=&#123;carry-used=<span class="hljs-number">1</span>&#125;] run summon item ~ ~<span class="hljs-number">1</span> ~ &#123;Tags:[<span class="hljs-string">"carry"</span>],Item:&#123;id:<span class="hljs-string">"minecraft:chest"</span>,Count:<span class="hljs-number">1</span>b&#125;&#125;<br>execute as <span class="hljs-meta">@e</span>[type=item,tag=carry,nbt=&#123;Item:&#123;id:<span class="hljs-string">"minecraft:chest"</span>&#125;&#125;] run data modify entity <span class="hljs-meta">@s</span> Item.tag.BlockEntityTag.Items set from storage carry Items<br>execute as <span class="hljs-meta">@e</span>[type=item,tag=carry,nbt=&#123;Item:&#123;id:<span class="hljs-string">"minecraft:chest"</span>&#125;&#125;] run data merge entity <span class="hljs-meta">@s</span> &#123;PickupDelay:<span class="hljs-number">0</span>s&#125;<br></code></pre></td></tr></table></figure>

<p>这个包总体来说挺简陋的，钓竿没做合成，没画材质，没做耐久（<br>可能有空会更新吧。<del>但是估计永远不会再重写了</del></p>
<h2 id="鸣谢"><a href="#鸣谢" class="headerlink" title="鸣谢"></a>鸣谢</h2><ul>
<li>dhp真好用</li>
</ul>
<h2 id="datapack"><a href="#datapack" class="headerlink" title="datapack"></a>datapack</h2><p>链接：<a href="https://pan.baidu.com/s/1rVrsTMCo51jQzVNPJfv4fA" target="_blank" rel="noopener">https://pan.baidu.com/s/1rVrsTMCo51jQzVNPJfv4fA</a><br>提取码：193g</p>
]]></content>
      <tags>
        <tag>commands</tag>
      </tags>
  </entry>
  <entry>
    <title>[1.15.2]Minecraft数据包---玩家头颅ID显示</title>
    <url>/2020/03/27/1-15-2-Minecraft%E6%95%B0%E6%8D%AE%E5%8C%85-%E7%8E%A9%E5%AE%B6%E5%A4%B4%E9%A2%85ID%E6%98%BE%E7%A4%BA/</url>
    <content><![CDATA[<p>该数据包使得玩家放置的玩家头颅能够以悬浮字形式在上方显示其用户ID，并支持使用彩色羊毛对其染色。<br>该数据包隶属于 <em>cAsual woRk</em> (1/99)</p>
<a id="more"></a>

<h2 id="效果演示"><a href="#效果演示" class="headerlink" title="效果演示"></a>效果演示</h2><p>B站视频演示：</p>
<iframe src="//player.bilibili.com/player.html?aid=94257392&bvid=BV1xE411p7FW&cid=160918321&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width:100%;height:500px;min-width:375px;min-height:200px;"></iframe>

<p><img src="https://img.rruu.net/image/5eb0e47894feb" alt="演示1"></p>
<p><img src="https://img.rruu.net/image/5eb0e47b2b623" alt="演示2"></p>
<p><img src="https://img.rruu.net/image/5eb0e46f1cba1" alt="演示3"></p>
<h2 id="大致原理"><a href="#大致原理" class="headerlink" title="大致原理"></a>大致原理</h2><p>首先是通过进度判断玩家放下头颅，要注意的是头颅放在地上和墙上的id不同，当时我就被这个坑了好久（</p>
<figure class="highlight json"><table><tr><td class="code"><pre><code class="hljs json">&#123;<br>    <span class="hljs-attr">"criteria"</span>: &#123;<br>        <span class="hljs-attr">"put_head"</span>: &#123;<br>            <span class="hljs-attr">"trigger"</span>: <span class="hljs-string">"minecraft:placed_block"</span>,<br>            <span class="hljs-attr">"conditions"</span>: &#123;<br>                <span class="hljs-attr">"block"</span>: <span class="hljs-string">"minecraft:player_head"</span><br>            &#125;<br>        &#125;<br>    &#125;,<br>    <span class="hljs-attr">"rewards"</span>: &#123;<br>        <span class="hljs-attr">"function"</span>: <span class="hljs-string">"skull:reset"</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight json"><table><tr><td class="code"><pre><code class="hljs json">&#123;<br>    <span class="hljs-attr">"criteria"</span>: &#123;<br>        <span class="hljs-attr">"put_head"</span>: &#123;<br>            <span class="hljs-attr">"trigger"</span>: <span class="hljs-string">"minecraft:placed_block"</span>,<br>            <span class="hljs-attr">"conditions"</span>: &#123;<br>                <span class="hljs-attr">"block"</span>: <span class="hljs-string">"minecraft:player_wall_head"</span><br>            &#125;<br>        &#125;<br>    &#125;,<br>    <span class="hljs-attr">"rewards"</span>: &#123;<br>        <span class="hljs-attr">"function"</span>: <span class="hljs-string">"skull:reset"</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>然后通过视线追踪在头颅位置生成maker，并对齐方块中央。</p>
<figure class="highlight"><table><tr><td class="code"><pre><code class="hljs java">execute if entity @s[distance=..6] if block ~ ~ ~ #player_head positioned ^ ^ ^ run summon armor_stand ~ ~ ~ &#123;Invisible:1b,Invulnerable:1b,Marker:1b,Tags:["skull-name"],Small:1b&#125;<br>execute if entity @s[distance=..6] unless block ~ ~ ~ #player_head positioned ^ ^ ^0.005 run function skull:ray<br></code></pre></td></tr></table></figure>

<p>然后通过牌子获取到头颅的用户ID，使用<em>interpret</em>拍扁</p>
<figure class="highlight"><table><tr><td class="code"><pre><code class="hljs java">execute as @e[type=armor_stand,tag=skull-name,tag=!b] at @s if block ~ ~ ~ #player_head run setblock ~ ~2 ~ minecraft:oak_sign&#123;Text1:"&#123;\"block\":\"~ ~-2 ~\",\"nbt\":\"Owner.Name\",\"interpret\":false&#125;",Text2:"&#123;\"text\":\"\"&#125;",Text3:"&#123;\"text\":\"\"&#125;",Text4:"&#123;\"text\":\"\"&#125;"&#125;<br>execute as @e[type=armor_stand,tag=skull-name,tag=!b] at @s if block ~ ~ ~ #player_head run data modify entity @s CustomName set from block ~ ~2 ~ Text1<br></code></pre></td></tr></table></figure>

<p>最后是羊毛染色的相关处理，偷懒直接改了队伍color。</p>
<h2 id="鸣谢"><a href="#鸣谢" class="headerlink" title="鸣谢"></a>鸣谢</h2><ul>
<li>黑洞群的bcb大佬和黑猫大佬提供技术支持</li>
<li>kc提供了他的头（？）</li>
<li>dhp真好用</li>
</ul>
<h2 id="datapack"><a href="#datapack" class="headerlink" title="datapack"></a>datapack</h2><p>链接：<a href="https://pan.baidu.com/s/1EvwPPwuBLD-FEjmrnktelA" target="_blank" rel="noopener">https://pan.baidu.com/s/1EvwPPwuBLD-FEjmrnktelA</a><br>提取码：t9qq</p>
]]></content>
      <tags>
        <tag>commands</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World Again</title>
    <url>/2020/03/27/Hello-World-Again/</url>
    <content><![CDATA[<p>探索好久，终于是有了些眉目，用hexo生成静态页面之后速度果然快了很多。<br>虽然有比较完整的教程吧，但是自己实践的时候还是遇到各种奇怪的问题，不断尝试最终也还是成功了啊XD<br>那么这个网站就是Ar的Minecraft<del>水贴</del>站了，平时水点原版模组就扔上来好了。<br>再一次，你好，世界。</p>
<p><del>另外得去学学markdown语法</del></p>
]]></content>
      <tags>
        <tag>strange</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2020/03/27/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<a id="more"></a>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">"My New Post"</span><br></code></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
      <tags>
        <tag>strange</tag>
      </tags>
  </entry>
</search>
